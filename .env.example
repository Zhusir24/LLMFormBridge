# ===============================================
# LLMFormBridge 统一环境变量配置模板
# ===============================================
#
# 使用说明：
# 1. 复制此文件为 .env
# 2. 根据你的环境修改下面的配置值
# 3. 此文件控制前端和后端的所有配置
#

# =================== 应用程序设置 ===================

# 应用名称
APP_NAME=LLMFormBridge

# 应用版本号
APP_VERSION=1.0.0

# 调试模式开关（生产环境设为false）
DEBUG=true

# =================== 后端服务器配置 ===================
# 注意：这组配置用于后端FastAPI服务和start.sh启动脚本

# 后端服务监听地址（0.0.0.0表示监听所有网络接口）
BACKEND_HOST=0.0.0.0

# 后端服务实际运行端口（被后端config.py和start.sh读取）
BACKEND_PORT=8000

# 前端服务端口（仅被start.sh脚本用于显示信息）
FRONTEND_PORT=3000

# 🔧 端口修改说明：
# 如果要修改端口，需要同时修改这组配置和下面的VITE_开头配置，保持一致
# 例如：改为后端10008，前端10007时，需要修改：
# - BACKEND_PORT=10008 (这里)
# - FRONTEND_PORT=10007 (这里)
# - VITE_BACKEND_PORT=10008 (下面前端配置区域)
# - VITE_FRONTEND_PORT=10007 (下面前端配置区域)
# - 相关的URL配置也要同步更新

# =================== 安全配置 ===================

# JWT密钥（生产环境请更换为强密钥）
SECRET_KEY=your-secret-key-change-in-production-please-use-a-strong-random-key

# API密钥加密密钥（请生成新的）
ENCRYPTION_KEY=your-encryption-key-generate-with-fernet

# JWT算法
ALGORITHM=HS256

# 访问令牌过期时间（分钟）
ACCESS_TOKEN_EXPIRE_MINUTES=30

# 刷新令牌过期时间（天）
REFRESH_TOKEN_EXPIRE_DAYS=7

# =================== 数据库配置 ===================

# 数据库连接地址（生产环境建议用PostgreSQL）
DATABASE_URL=sqlite:///./llmbridge.db

# =================== Redis配置 ===================

# Redis连接地址（用于缓存和限流）
REDIS_URL=redis://localhost:6379

# =================== 限流设置 ===================

# 每分钟请求限制
RATE_LIMIT_PER_MINUTE=100

# =================== 日志设置 ===================

# 日志级别（INFO/WARNING/ERROR）
LOG_LEVEL=INFO

# =================== 跨域设置 ===================

# 允许的跨域来源
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:5173,http://127.0.0.1:3000,http://127.0.0.1:5173

# =================== API配置 ===================

# API基础路径
API_BASE_PATH=/api

# OpenAI API地址
OPENAI_API_BASE_URL=https://api.openai.com/v1

# Anthropic API地址
ANTHROPIC_API_BASE_URL=https://api.anthropic.com

# 前端访问地址
FRONTEND_URL=http://localhost:3000

# ===============================================
# 前端专用环境变量（VITE_开头）
# ===============================================

# =================== 前端应用配置 ===================

# 前端应用名称
VITE_APP_NAME=LLMFormBridge

# 前端应用版本
VITE_APP_VERSION=1.0.0

# =================== 前端专用配置 ===================
# 注意：VITE_开头的变量只能被前端代码读取（技术限制）
# 用于前端Vite开发服务器配置和浏览器运行时环境变量

# 前端Vite开发服务器端口（被frontend/vite.config.ts读取）
VITE_FRONTEND_PORT=3000

# 前端API请求的后端端口（被前端代码用于API调用）
# ⚠️ 必须与上面的BACKEND_PORT保持一致，否则前端无法连接后端
VITE_BACKEND_PORT=8000

# 前端API请求的后端地址
VITE_BACKEND_HOST=localhost

# =================== 前端API配置 ===================

# 前端调用的API基础地址
VITE_API_BASE_URL=http://localhost:8000/api

# 前端调用的后端地址
VITE_BACKEND_URL=http://localhost:8000

# =================== 前端环境设置 ===================

# 前端运行环境（development/production）
VITE_NODE_ENV=development

# =================== 前端功能开关 ===================

# 前端调试模式
VITE_ENABLE_DEBUG=true

# 是否启用模拟数据
VITE_ENABLE_MOCK_DATA=false

# =================== 前端UI配置 ===================

# 主题颜色
VITE_THEME_COLOR=#3b82f6

# 默认语言
VITE_DEFAULT_LANGUAGE=zh-CN

# ===============================================
# 生产环境注意事项
# ===============================================
#
# 部署到生产环境时请确保：
# 1. DEBUG=false
# 2. 生成强密钥并替换SECRET_KEY
# 3. 生成新的ENCRYPTION_KEY
# 4. 配置正确的ALLOWED_ORIGINS
# 5. 使用PostgreSQL等生产级数据库
# 6. LOG_LEVEL设为WARNING或ERROR
# 7. VITE_NODE_ENV=production
# 8. VITE_ENABLE_DEBUG=false